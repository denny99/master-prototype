<h-body>
    <app-base-template>
        <ui-define name="content">
            <h-form id="bookingData" styleClass="ice-skin-rime">
                <!-- display flight data -->
                <cc-flight-details [headline]="true" [standalone]="false"
                                   [flight]="selectedFlight"></cc-flight-details>

                <!-- select number of passengers slider -->
                <h-panel-group id="basicData" layout="block"
                               styleClass="contentLevelContainer blockArea">
                    <div class="inputFieldGroup">
                        <span class="iceOutTxt headerLabel">Basic Data</span>
                    </div>
                    <h-panel-group layout="block" id="sliderGroup"
                                   styleClass="indented topMargin">
                        <div class="inputFieldGroup center" style="width: 450px;">
                            <span class="iceOutTxt iceOutLbl ssLabel">Select desired amount of passengers</span>
                        </div>
                        <div id="passengerContainer" class="blockArea">
                            <div class="inputFieldGroup" id="passengerAmountContainer">
                                <ice-panel-group id="passengerTooltipBubble"
                                                 panelTooltip="passengerTooltip"
                                                 [style]="{position: 'relative', top: '-15px'}"
                                                 styleClass="infoBubble">
                                    <f-facet name="tooltip">
                                        <div>
                                            <span class="iceOutTxt">Use the slider or the input to set the amount of passengers</span>
                                        </div>
                                    </f-facet>
                                </ice-panel-group>
                                <div class="clear"></div>
                                <div id="sliderDiv" class="inputFieldGroup center">
                                    <div class="inputFieldGroup center" style="*margin-top:-15px;">
                                        <h-input-text #passengerCountOutput
                                                      [(ngModel)]="passengerCount"
                                                      id="passengerCountOutput"
                                                      [style]="{'color': '#003B78 !important', 'text-align': 'center'}"
                                                      (onchange)="updateSlider($event);"
                                                      [validator]="validatePassengerCount"
                                                      [converter]="integerConverter"
                                                      converterMessage="Enter only Numbers">
                                            <!--This call did not do anything relevant for the ui-->
                                            <!--<f-ajax event="blur" execute="@this" render="costMsg"-->
                                            <!--(listener)="costsListener($event)"></f-ajax>-->
                                        </h-input-text>
                                        <span style="*margin-left: 4px;"># Passengers</span>
                                    </div>
                                    <div style="position: relative; bottom: 0px;">
                                        <div id="slider_div">
                                            <div id="passengerCountSlider"
                                                 style="position:relative;top:6px;width:133px;">
                                                <img id="sliderImage" src="/resources/images/bar150.gif"
                                                     width="150"
                                                     height="12"
                                                     alt="" class="sliderImg"/>
                                            </div>
                                        </div>
                                        <ice-output-text id="costs"
                                                         value="Costs p.P. {{selectedFlight.costs}}"
                                                         styleClass="iceOutTxt ssInfoFieldLabel2">
                                            <!--Does not work here value is a string not, would work as pipe in the {{}} -->
                                            <!--<f-convert-number pattern="##,###" [groupingUsed]="true"-->
                                            <!--locale="de-DE"></f-convert-number>-->
                                        </ice-output-text>
                                        <span>&euro;</span>
                                    </div>

                                    <h-input-hidden id="maxSliderTickHidden"
                                                    [(ngModel)]="maxPassengers"></h-input-hidden>
                                </div>
                            </div>
                        </div>
                    </h-panel-group>
                </h-panel-group>
                <h-message id="costMsg"
                           style="{'width':'404px', 'text-align':'center'}"
                           styleClass="iceMsgError inputFieldLabel minindented"
                           for="passengerCountOutput"></h-message>

                <!-- checkbox for insurance -->
                <h-panel-group layout="block"
                               styleClass="contentLevelContainer blockArea">
                    <div class="indented inputFieldGroup" style="margin-top: 5px;">
                        <h-select-boolean-checkbox id="insuranceCB"
                                                   [(ngModel)]="travelInsurance">
                        </h-select-boolean-checkbox>
                        <h-output-label id="insuranceLabel" for="insuranceCB"
                                        [style]="{position:'relative', top: '-2px'}"
                                        styleClass="InfoFieldLabel minindented">
                            Reisezusatzversicherung buchen
                        </h-output-label>
                        <div class="clear"></div>
                    </div>
                </h-panel-group>
                <h-command-button value="Cancel"
                                  (action)="cancelBooking()"
                                  id="cancelBookingButton"
                                  styleClass="iceCmdBtn btnOption"></h-command-button>
                <h-command-button id="continueButton" value="Continue"
                                  (action)="createPassengers()"
                                  styleClass="iceCmdBtn btnOption"></h-command-button>
            </h-form>
        </ui-define>
    </app-base-template>
</h-body>
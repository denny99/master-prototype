<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
>

<ui:composition template="/pages/templates/baseTemplate.xhtml">
    <ui:define name="content">
        <h:outputScript library="js" name="bookingForm.js"/>
        <h2>Basic Data</h2>
        <h:form id="passengerData" styleClass="ice-skin-rime">
            <!-- display flight data -->

            <!-- select number of passengers slider -->
            <h:panelGroup id="basicData" layout="block"
                          styleClass="contentLevelContainer blockArea">
                <div id="sliderDiv" class="inputFieldGroup center">
                    <div class="inputFieldGroup center" style="*margin-top:-15px;">
                        <h:inputText value="#{bookingBean.bookingFormBean.passengerCount}"
                                     id="passengerCountOutput"
                                     style="color: #003B78 !important; text-align:center;"
                                     onchange="javascript:updateSlider();"
                                     validator="#{bookingBean.bookingFormBean.validatePassengerCount}"
                                     converterMessage="Enter only Numbers!">
                            <f:convertNumber pattern="##,###" groupingUsed="true"
                                             locale="de"/>
                            <f:ajax event="blur" execute="@this" render="costMsg"
                                    listener="#{bookingBean.bookingFormBean.costsListener}"
                                    onevent="onEventResponse"/>
                        </h:inputText>
                        <span style="*margin-left: 4px;">€</span>
                    </div>
                    <div style="position: relative; bottom: 0px;">
                        <div id="dispo_bestaetigung_form_id:kb_wunschbetrag_schieber_div">
                            <div id="passengerCountSlider" style="position:relative;top:6px;width:133px;">
                                <img id="sliderImage" src="../resources/images/bar150.gif" width="150" height="12"
                                     alt="" class="sliderImg"/>
                            </div>
                        </div>
                        <h:outputText id="costs"
                                      value="#{bookingFormBean.flightCosts}"
                                      styleClass="iceOutTxt ssInfoFieldLabel2">
                            <f:convertNumber pattern="##,###" groupingUsed="true"
                                             locale="de-DE"/>
                        </h:outputText>
                        <span>€</span>
                    </div>

                    <h:inputHidden id="sliderIndexHidden"
                                   value="#{bookingBean.bookingFormBean.passengerCount}"/>
                    <h:inputHidden id="maxSliderTickHidden"
                                   value="#{bookingBean.bookingFormBean.maxPassengers}"/>
                </div>
            </h:panelGroup>
            <h:message id="costMsg"
                       style="width:404px; text-align:center;"
                       styleClass="iceMsgError inputFieldLabel minindented"
                       for="passengerCountOutput"/>

            <!-- checkbox for insurance -->
            <h:panelGroup layout="block"
                          styleClass="contentLevelContainer blockArea">
                <div class="indented inputFieldGroup" style="margin-top: 5px;">
                    <h:selectBooleanCheckbox id="insuranceCB"
                                             value="#{bookingBean.bookingFormBean.travelInsurance}">
                        <f:ajax event="valueChange" execute="@this"
                                render="@this confirmMsg0"/>
                    </h:selectBooleanCheckbox>
                    <h:outputLabel id="insuranceLabel" for="insuranceCB"
                                   style="position:relative;top:-2px;"
                                   styleClass="InfoFieldLabel minindented">Reisezusatzversicherung buchen (15.99€)</h:outputLabel>
                    <h:message id="confirmMsg0"
                               styleClass="iceMsgError inputFieldLabel" for="insuranceCB"/>
                    <div class="clear"/>
                </div>
            </h:panelGroup>

            <h:commandButton value="Continue"
                             action="#{bookingBean.createPassengers}"
                             styleClass="iceCmdBtn btnOption"/>
            <h:commandButton styleClass="iceCmdBtn btnOption" action="#{bookingBean.cancelBooking}"
                             value="Cancel"/>
        </h:form>
    </ui:define>
</ui:composition>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core"
>

<ui:composition template="/pages/templates/baseTemplate.xhtml">
    <ui:define name="content">
        <h2>This is Page2</h2>
        <h:form id="passengerData" styleClass="ice-skin-rime">
            <f:event id="multiFieldValidationEvent"
                     listener="#{passengerFormBean.multiFieldValidation}" type="postValidate"/>

            <!-- select number of passengers slider -->
            <!-- checkbox for insurance -->
            <!-- display flight data -->
            <h:panelGroup id="obgContainer" layout="block"
                          styleClass="contentLevelContainer blockArea">

                <ui:fragment rendered="#{passengerFormBean.obgRendered}">
                    <div class="lFloat indented inputFieldGroup">
                        <span class="iceOutTxt masInfoFieldLabel minindented">OBG-Nummer:</span>
                        <h:inputText id="obg_nummer" required="true"
                                     styleClass="iceInpTxt kdInputField"
                                     value="#{passengerFormBean.obgNummer}" maxlength="4"
                                     validatorMessage="Überprüfen Sie bitte Ihre Eingabe im obigen Feld!"
                                     converter="obgConverter"
                                     requiredMessage="Geben Sie bitte eine OBG-Nummer ein!"
                                     disabled="#{not sessionInfosBean.kundendialogRolle}">
                            <f:validateRegex pattern="^[0-9]{1,4}$"/>
                            <f:ajax event="change" execute="@this"
                                    onevent="onEventResponse"
                                    render="@this obg_nummer_msg :passengerFormBean:buttonWrapper :passengerFormBean:fortsetzenBtnWrapper"
                                    listener="#{passengerFormBean.scoringListener}"/>
                        </h:inputText>
                        <div class="clear"/>
                        <h:message styleClass="iceMsgError inputFieldLabel"
                                   id="obg_nummer_msg" for="obg_nummer"/>
                    </div>
                </ui:fragment>

                <ui:fragment rendered="#{passengerFormBean.beraternummerRendered}">
                    <div class="lFloat indented inputFieldGroup">
                        <span class="iceOutTxt masInfoFieldLabel minindented">Beraternummer:</span>
                        <h:inputText id="berater_nummer" required="true"
                                     styleClass="iceInpTxt kdInputField"
                                     value="#{passengerFormBean.beraterDaten.beraterNummer}" maxlength="4"
                                     converter="beraternummerConverter"
                                     validatorMessage="Überprüfen Sie bitte Ihre Eingabe im obigen Feld!"
                                     requiredMessage="Geben Sie bitte eine Beraternummer ein!"
                                     disabled="#{passengerFormBean.basisdatenDisabled}">
                            <f:validator validatorId="beraternummerValidator"/>
                            <f:ajax execute="@this" onevent="onEventResponse"
                                    render="@this berater_nummer_msg :applicationInfoForm"
                                    listener="#{passengerFormBean.beraternummerListener}"/>
                        </h:inputText>
                        <div class="clear"/>
                        <h:message styleClass="iceMsgError inputFieldLabel"
                                   id="berater_nummer_msg" for="berater_nummer"/>
                    </div>
                </ui:fragment>
                <div class="clear"/>
            </h:panelGroup>

            <h:commandButton action="/index?faces-redirect=true"
                             value="Back To Home Page"/>
        </h:form>
    </ui:define>
</ui:composition>
</html>